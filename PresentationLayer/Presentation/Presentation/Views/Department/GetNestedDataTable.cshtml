@model BusinessModels.ViewModel.CustomerBillingModel
@using BusinessModels.CGC

@{
    ViewBag.Title = "GetNestedDataTable";
}


<link href="https://cdn.datatables.net/v/dt/dt-1.10.16/r-2.2.1/datatables.min.css" rel="stylesheet" />
<script src="~/Scripts/jquery-1.10.2.min.js"></script>
<script src="https://cdn.datatables.net/v/dt/dt-1.10.16/r-2.2.1/datatables.min.js"></script>



<table id="myTable" class="display" cellspacing="0">
    <thead>
        <tr>
            <th></th>
            <th>Id</th>
            <th>Name</th>
            <th>Email</th>
            <th>Password</th>
            <th class="none"></th>
        </tr>
    </thead>
    <tbody>
        @foreach (MasterTable item in Model._GetMasterData)
        {
            <tr role="row" class="odd parent">

                <td></td>
                <td>@item.Id</td>
                <td>@item.Master_Name</td>
                <td>@item.Master_Email</td>
                <td>@item.PassWord</td>
               <td>
                   <table class="table table-bordered display" cellspacing="0"> 
                       <thead>
                           <tr>
                           <td> CountryId</td>
                               <td> Country Name</td>                         
                          </tr>
                       </thead>
                       <tbody>
                           @foreach (Country _cont in Model._GetCountryData)
                           {


                           <tr>
                               <td>@_cont.Cnt_Id</td>
                               <td>@_cont.Cnt_Name</td>

                           </tr>
                           }
                       </tbody>
                   </table>
               </td>
            </tr>
        
        }


    </tbody>
</table>



<script type="text/javascript">
        $(document).ready(function () {
            var table = $("#myTable").DataTable({
                'responsive': true

            });
            table.rows('.parent').nodes().to$().find('td:first-child').trigger('click');

            // Handle click on "Expand All" button
            $('#btn-show-all-children').on('click', function () {
                // Expand row details
                table.rows(':not(.parent)').nodes().to$().find('td:first-child').trigger('click');
            });

            // Handle click on "Collapse All" button
            $('#btn-hide-all-children').on('click', function () {
                // Collapse row details
                table.rows('.parent').nodes().to$().find('td:first-child').trigger('click');
            });
        })
</script>